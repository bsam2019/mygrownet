
** âœ…ðŸŽ‰e!eliabl and rintainablemamore e codebase king thrvices, maed in seentralizw c are nonstiocula
**All callication.
 apps theency acrosnd consistlity, aainabiaint mode quality, improves cctoringefans. This rcalculatio earnings et and walllle for aServicingsEarnvice and WalletSerly uses r now properleontrolrdChe Dashboa
Tsion


## Conclu---
anges
breaking chence
- No ser experie uce
- Samme performanality
- Sae function
- SamImpacts âœ…o Negative ## Ntion

#e duplicaeduced codtruth
- R source of ngle SilityInternal Server Error

Copy as Markdown
TypeError
Symfony\Component\Mime\Address::__construct(): Argument #1 ($address) must be of type string, null given, called in C:\Apache24\htdocs\mygrownet\vendor\laravel\framework\src\Illuminate\Mail\Message.php on line 246

LARAVEL
12.34.0
PHP
8.3.18
UNHANDLED
CODE 0
500
POST
http://127.0.0.1:8001/mygrownet/my-starter-kit/purchase
-stabir teBettenance
- er mainten
- Easiapplicatiocross s aalculationonsistent cs âœ…
- Citive Impactosent

### PAssessm
## Impact e

---
uplicate cod - Removed dons
  tiings calculaUpdated earn
   - lculationbalance callet d wadater
   - Up constructotoervice ningsS Earce andervilletS Added Wa -`
  hpr.plerolrdContboaNet/DashowMyGrntrollers/`app/Http/Co
1. 
fiedModiles  Fi##y

---

nalitioport funct
- Exs analysiparativeomalytics
- Carnings ans
- Es updateme earningl-ti)
- Rea3 (Futurehase ### Ptions

ngs projecd earnikdowns
- Add breamore detailed 
- Adrvicesto seaching - Add cce
ngsService to Earniperforman- Add team (Planned)
se 2  Pha###ns

calculatiolicate dup Remove  earnings
-Service forse Earningse
- Ur balancService foallete Went) âœ…
- Usse 1 (Curr Phaments

###roveFuture Imp
## 
---
ues
ssn for any i productioitor
- [ ] Moncontrolleror ts ftion tes integra Write
- [ ]servicestests for t uni ] Write errors)
- [ics (no diagnost Run s
- [x] serviceseethods to ue helper m[x] Update
- rningsServico use Eaown() tingsBreakdetEarn] Update gns
- [xlationgs calcuanual earniplace m
- [x] Reonatice calcullet balanmanual waleplace  R
- [x]structorler conardControlshboice to DaEarningsServdd - [x] Aonstructor
 colleroardContrce to DashbletServiald W [x] Adlist

-ration Check
## Mig---

```

);
}atus(200assertStonse->;
    $resp')t/mobilegrowne('/mys->get= $thi  $response ;
    
      })nce();
down')->orningsBreaktEave('geeceihouldR->sock  $m{
      ock) ion ($m, functsslavice::cgsSerarnin>mock(Ethis-
    
    $); }0);
   Return(100and)->>once(e')-lanclateBa('calcuveceishouldRek->$moc {
        ($mock)tion uncce::class, ftServileis->mock(Wal    $thvices()
{
_uses_serashboardle_dn test_mobiblic functiopuhp
Test.pollerntrashboardCo D``php
//
`rolleror Cont fTestsegration `

### Int
``arnings);
}s(500, $e>assertEqual$this-;
    nings($user)arlElateTotaice->calcungsServ$this->earniarnings = ata
    $et dtes// Add te();
    tory()->creaUser::facser = )
{
    $uearnings(te_total__calculaunction testublic fphp
pst.iceTearningsServ

// E
}balance);000, $ertEquals(1->ass   $this;
 lance($user)eBa>calculatervice-->walletSe = $this    $balancata
 dAdd test
    // );e(at)->crery(toser::fac U    $user =)
{
ate_balance(st_calculction tec funp
publirviceTest.phetSehp
// Wallvices
```ps for Ser## Unit Testtions

#endang RecommTesti## ---


```

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â””â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
                rawals    withd
    â”‚ -          â”‚     t_shares   â”‚ - profi
             â”‚onsl_commissierra  â”‚ - ref  â”‚
             ons      - transactiâ”‚
    â”‚                      â”‚           â”‚
                   ase       Datab    â”‚   â”€â”€â”
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â”Œâ”€â”€          â†“         â†“ â”˜
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€
      â”‚ding  â”‚ - Penwn â”‚  - Breakdo
    â”‚ y     â”‚ Monthl â”‚  â”‚ -es pensExâ”‚ - wn   â”‚
    â”‚ - Breakdo  ngs  â”‚  â”‚ - Earniâ”‚
  al        â”‚  â”‚ - Tot - Balance   â”‚    â”‚
                â”‚          â”‚
    â”‚   ceâ”‚gsServiEarninceâ”‚  â”‚alletServiâ”€â”€â”€â”
    â”‚Wâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€  â”Œâ”€â”€â”€
  â†“                  â†“â”€â”€â”˜
       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â””  ons    calculatiual No man  -
â”‚     â”‚e        icEarningsServes - Us      â”‚
â”‚         ervice  ses WalletSâ”‚
â”‚  - U                                     â”‚
â”‚          roller  boardContsh Daâ”‚     â”€â”€â”€â”€â”€â”€â”€â”€â”
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€e

``` Architectur# Service--

#

- places.her in otif neededingsService  Earnded tod be adulture:** Co

**Fulsewhere. needed e bemay notrd that dashboa for mobile ionfic calculatpeci is a sn:** This**Reaso```

t');
ounm('am   ->suer_kit'])
 artstase', 't_purchucion', 'prodipt ['subscrn('source',eIher
    ->wd')us', 'pai('statere->wh    >id)
ser-id', $urrer_ferewhere(')
    ->ssions'erral_commible('ref = \DB::taPerformanceteamhp
$
```pwn()`:reakdoningsBn `getEarally ilated manurently calcumance
CurPerform 
### Teas
ional Calculatng ManunimaiRe---

## 

ensive testse comprehrit Easier to wes
-d servicth mocketested wican be trollers - Conted
nit tes can be uces âœ…
- Serviitystabil 5. Te##
#lace
n one pn iptimizatioery oices
- Qued to servan be add Caching cdently
-pend indemize optibecan ices e âœ…
- Servformanc## 4. Perases

# of edge chandlingr on
- Propepplicatiacross the aults t res
- Consistenns calculatioruth forf t ole sourcety âœ…
- Sing. Reliabili 3ns

###ncer coon ofatiepar Clear sllers)
-controces, not est servi (tier to testas E place
-nee in omad be eed to n onlylation logicalcuo ces t
- Changility âœ…ntainabMai

### 2. ntrollersross coogic acplicate lNo du- gsService
ninns use Eartiogs calculaAll earninervice
-  use WalletStionsulat calc- All wallesistency âœ…
 1. Code Con###ing

ctorfits of Refa# Bene

#

---`
``user);
}nings($endingEarervice->getP->earningsShiseturn $t{
    rer): float
(User $usCommissionsdingenon getPate functi
privuser);
}
rnings($hisMonthEagetTce->rningsServieas-> return $thioat
{
   ): fluser $nings(UserMonthEarion getThisvate funct```php
pri*
:*

**After;
}
```amount')   ->sum(')
     nding', 'peere('status'     ->wh
   ns()lCommissio->referrarn $user    retu{
oat
: flser)s(User $ussiondingCommietPention gvate func);
}

print'('amou>sum    -')
    aid 'pre('status',he
        ->w>year)ow()-ted_at', nar('creaYewhere      ->month)
  ow()->', natated_creereMonth('      ->whions()
  missralComer->referusurn $    ret
{
): floaterUser $usarnings(ThisMonthEon getvate functiri
phpe:**
```p

**Beforlper Methods
### He``
 ];
}
`
   formance),eamPerres'] + $tshait_wn['profakdore'] + $bionsn['commissdow) ($break> (floatgs' =arninotal_e    'tings,
    dingEarnen(float) $p' => ng_earnings     'pendi   ormance,
eamPerfoat) $tance' => (flformteam_per
        ',it_shares']ofown['prbreakd $ (float) =>ares'ofit_sh 'pr      '],
 commissions[' $breakdownt) => (floaissions'ral_comm'refer     eturn [
   
    r    r);
ings($usegEarndince->getPenngsServini $this->eararnings =ingEnd
    $pe
    );t'>sum('amoun)
        -r_kit']testare', 'urchasuct_p 'prodbscription', ['su'source',n( ->whereI
       id')tus', 'pa'stare(>whe  -
      d)', $user->ir_idferre ->where('re      ions')
 rral_commiss('refeleabe = \DB::trmancteamPerfoet)
    $ce yrvisece (not in manrfoream pelculate t // Only ca  
   r);
  n($useowgsBreakdetEarninvice->g>earningsSer= $this-kdown 
    $breaingsServicese Earn Uy
{
    //arraser): own(User $ueakdEarningsBrn getfunctioate ``php
priver:**
``

**Aft
``ations
}lculanual care m ... mo// 
      ount');
    ->sum('am   ')
  us', 'paid>where('stat
        -itShares()rofs = $user->p$profitShare
    
    );t'sum('amoun     ->d')
   s', 'paire('statu     ->wheions()
   issommlCer->referra $usmissions =lCom  $referraulations
  ual calc Man  //
  ay
{: arrr $user)kdown(UserningsBreaion getEarivate functphp
p
```Before:**

** Breakdownrnings Ea

###pplicationrts of the ar pawith otheent - Consisttions
transacinvestment d es LGR an Excludy
-orrectles cta sourc daHandles allervice
- from WalletScalculation proper uses t:**
- Now `

**Impac$user);
``alance(teBcalculaService->>walletthis-'] = $tBalance'walle$data[```php
**
*After:
```

*ance ?? 0;r->bal = $usence']Balaet$data['wall``php
ore:**
`Befon

**alculatit Balance CWalle`

### 
}
``e;ngsServicniice = $eargsServ->earninhis  $t;
  letService= $walvice erhis->walletS ...
    $t{
    //ervice
) ningsSearvice $\EarningsSer\Services \App
   ce,lletServi$wae letServicervices\WalApp\Se,
    \icervtSunityProjeccommService $ectityProj   Communce,
 vierkingSncomeTracice $assetIackingServmeTrssetIncoe,
    AementServicnce $tierAdvamentServicancetTierAdv MyGrowNe,
   Servicesion $mlmCommisServiceommission
    MLMCruct(st_conn _functiohp
public **
```p
**After:
}
```

    // ...ervice
) {tSityProjece $communectServicnityProj
    Commuice,ackingServssetIncomeTrService $arackingcomeTtInse,
    AscecementServi$tierAdvane cementServicAdvantTierNeMyGrowice,
    onServmissiomervice $mlmCMCommissionS  MLct(
  nstru_co function _ublic
```php
pefore:**
**Btor
ucnstrontroller Co# DashboardC

##anges Made---

## Chcking

trarnings g ea
- Pendinkdownscific breaspees
- Level- date rangrtsuppoations
- Snings calculnsistent ear**
- Cos:

**Benefitcsete statisti - Compl$user)`User cs(tatistirningsS `getEareakdown
-n bl commissioeve- 7-ler)` $usser akdown(UevenLevelBreetSnings
- `gid earpanding/unr)` - Pegs(User $useendingEarnin- `getPngs
nint month earrer)` - Curser $usengs(UrnionthEa`getThisMe
-  typn byd breakdowDetaile$user)` - kdown(User EarningsBreas
- `gete earning all-timal)` - Tot $userrnings(UserteTotalEa- `calcula
hods:**ey Met*K
*s
 calculationgsnin eartralized Cense:**

**Purpo`ice.phpningsServices/Ear* `app/Servon:*
**LocatiicesServ. Earning

### 2ontrollersl cs alstent acrosonsi
- Cerly propransactionsinvestment t and cludes LGRares)
- Ex, profit shissionsns, commnsactioources (tradata siple multHandles ns
- atioallet calcul wh forf trutce oe sour Singl:**
-
**Benefitsakdown
detailed bre Get $user)` -own(User Breakdallet)
- `getWebitspenses (dotal exalculate t$user)` - Cser nses(UxpelateTotalE- `calcuredits)
earnings (ctotal ulate lcuser)` - Cas(User $ngTotalEarniulatelce
- `caallet balancent wulate curralc` - Cer)User $useBalance(atcalculods:**
- `
**Key Methtions
ce calculat balanwalled * CentralizePurpose:*

**vice.php`tSeres/Walleic `app/Servtion:**
**LocalletService### 1. Wa

sedServices U

## 

---lication.oss the appistency acrsuring cons ention anduplicaing code deliminattions,  calcula manuale instead ofServicd EarningsetService and Wallzentralier to use cedControllDashboarthe red 

Refacto## Overview


---
ningsServiceand Earice alletServow Uses W NlerardControlboete - Dashs:** âœ… Compl
**Statur 9, 2025  * Novembe

**Date:*g âœ…ctorintion Refategraervice In# S