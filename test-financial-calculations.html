<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Calculations Test</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }
        .input-group {
            margin: 15px 0;
        }
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
        }
        input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .results {
            background: #f0f9ff;
            border: 2px solid #3b82f6;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
        .result-item {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 4px;
        }
        .result-label {
            font-size: 14px;
            color: #666;
        }
        .result-value {
            font-size: 24px;
            font-weight: bold;
            color: #059669;
        }
        .negative {
            color: #dc2626;
        }
    </style>
</head>
<body>
    <div id="app">
        <h1>Business Plan Financial Calculator Test</h1>
        
        <div class="input-group">
            <label>Startup Costs (K)</label>
            <input v-model.number="startupCosts" type="number" placeholder="50000">
        </div>
        
        <div class="input-group">
            <label>Monthly Operating Costs (K)</label>
            <input v-model.number="monthlyOperatingCosts" type="number" placeholder="10000">
        </div>
        
        <div class="input-group">
            <label>Price Per Unit (K)</label>
            <input v-model.number="pricePerUnit" type="number" placeholder="500">
        </div>
        
        <div class="input-group">
            <label>Expected Sales Volume (units/month)</label>
            <input v-model.number="salesVolume" type="number" placeholder="50">
        </div>
        
        <div style="background: #fef3c7; border: 2px solid #f59e0b; border-radius: 8px; padding: 15px; margin: 20px 0;">
            <strong>ðŸ’¡ Note:</strong> Monthly Revenue is automatically calculated from Price Per Unit Ã— Sales Volume. 
            You don't need to enter it manually!
        </div>
        
        <div class="results">
            <h2>Auto-Calculated Results</h2>
            
            <div class="result-item">
                <div class="result-label">Monthly Revenue (Auto-calculated)</div>
                <div class="result-value">K{{ formatNumber(monthlyRevenue) }}</div>
                <small>{{ pricePerUnit }} Ã— {{ salesVolume }} units</small>
            </div>
            
            <div class="result-item">
                <div class="result-label">Monthly Profit</div>
                <div class="result-value" :class="{ negative: monthlyProfit < 0 }">
                    K{{ formatNumber(monthlyProfit) }}
                </div>
                <small>Revenue ({{ formatNumber(monthlyRevenue) }}) - Operating Costs ({{ formatNumber(monthlyOperatingCosts) }})</small>
            </div>
            
            <div class="result-item">
                <div class="result-label">Profit Margin</div>
                <div class="result-value" :class="{ negative: profitMargin < 0 }">
                    {{ profitMargin }}%
                </div>
            </div>
            
            <div class="result-item">
                <div class="result-label">Break-Even Point</div>
                <div class="result-value">{{ breakEvenMonths }}</div>
                <small v-if="breakEvenMonths !== 'âˆž'">Months to recover startup costs of K{{ formatNumber(startupCosts) }}</small>
                <small v-else>Cannot break even with current profit</small>
            </div>
            
            <div class="result-item">
                <div class="result-label">Yearly Profit Projection</div>
                <div class="result-value" :class="{ negative: yearlyProfit < 0 }">
                    K{{ formatNumber(yearlyProfit) }}
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    startupCosts: 50000,
                    monthlyOperatingCosts: 10000,
                    pricePerUnit: 500,
                    salesVolume: 50
                }
            },
            computed: {
                monthlyRevenue() {
                    return (this.pricePerUnit || 0) * (this.salesVolume || 0);
                },
                monthlyProfit() {
                    return this.monthlyRevenue - (this.monthlyOperatingCosts || 0);
                },
                profitMargin() {
                    if (this.monthlyRevenue === 0) return '0.0';
                    return ((this.monthlyProfit / this.monthlyRevenue) * 100).toFixed(1);
                },
                breakEvenMonths() {
                    if (this.monthlyProfit <= 0) return 'âˆž';
                    return Math.ceil((this.startupCosts || 0) / this.monthlyProfit);
                },
                yearlyProfit() {
                    return this.monthlyProfit * 12;
                }
            },
            methods: {
                formatNumber(num) {
                    return new Intl.NumberFormat('en-US', {
                        minimumFractionDigits: 0,
                        maximumFractionDigits: 0,
                    }).format(num || 0);
                }
            }
        }).mount('#app');
    </script>
</body>
</html>
